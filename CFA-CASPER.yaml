---
rule-providers:
  Reject:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/casper9/akunopenwrt/main/rule_provider/iklan.yaml
    interval: 3600
    path: "./iklan.yaml"
  XLDirect:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/casper9/akunopenwrt/main/rule_provider/xlsosmed.yaml
    interval: 3600
    path: "./xlsosmed.yaml"
  Game:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/casper9/akunopenwrt/main/rule_provider/game.yaml
    interval: 3600
    path: "./game.yaml"
  Bokep:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/casper9/akunopenwrt/main/rule_provider/porn.yaml
    interval: 3600
    path: "./porn.yaml"

proxy-providers:
  ProxyCasper:
    type: file
    path: "./akun.yaml"
    url: https://raw.githubusercontent.com/casper9/akunopenwrt/main/rule_provider/akun.yaml
    interval: 3600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

proxy-groups:
- name: CASPER
  type: select
  disable-udp: false
  proxies:
  - AUTO
  - LOADBALANCE
  - FAILBACK
  - DIRECT
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: XL-UNLIMITED
  type: select
  disable-udp: false
  proxies:
  - DIRECT
  - AUTO
  - LOADBALANCE
  - FAILBACK
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100'

- name: IKLAN
  type: select
  disable-udp: false
  proxies:
  - REJECT
  - AUTO
  - LOADBALANCE
  - FAILBACK
  - DIRECT
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: BOKEP
  type: select
  disable-udp: false
  proxies:
  - REJECT
  - AUTO
  - LOADBALANCE
  - FAILBACK
  - DIRECT
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: IN-GAME
  type: select
  disable-udp: false
  proxies:
  - AUTO
  - LOADBALANCE
  - FAILBACK
  - DIRECT
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: AUTO
  type: url-test
  disable-udp: false
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: LOADBALANCE
  type: load-balance
  disable-udp: false
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: FAILBACK
  type: fallback
  disable-udp: false
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 
  
redir-port: 7072
tproxy-port: 7073
port: 7071
socks-port: 7074
mixed-port: 7075
ipv6: false
mode: rule
log-level: silent
allow-lan: true
external-controller: 0.0.0.0:9090
secret: ''
bind-address: '*'
unified-delay: true
profile:
  store-selected: true
dns:
  enable: true
  ipv6: false
  enhanced-mode: redir-host
  listen: 0.0.0.0:7874
  nameserver:
  - 8.8.8.8
  - 1.0.0.1
  - https://dns.google/dns-query
  fallback:
  - 1.1.1.1
  - 8.8.4.4
  - https://cloudflare-dns.com/dns-query
  - 112.215.203.254
  default-nameserver:
  - 8.8.8.8
  - 1.1.1.1
  - 112.215.203.254
rules:
- IP-CIDR,103.195.103.66/23,CASPER
- IP-CIDR,84.17.53.155/23,CASPER
- IP-CIDR,50.7.252.138/23,CASPER
- IP-CIDR,104.194.8.134/23,CASPER
- DST-PORT,9993,CASPER
- RULE-SET,Reject,IKLAN
- RULE-SET,Game,IN-GAME
- RULE-SET,Bokep,BOKEP
- RULE-SET,XLDirect,XL-UNLIMITED
- MATCH,CASPER
