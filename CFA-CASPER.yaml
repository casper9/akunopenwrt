---
rule-providers:
  Reject:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/casper9/akunopenwrt/main/rule_provider/iklan.yaml
    interval: 3600
    path: "./iklan.yaml"
  XLDirect:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/casper9/akunopenwrt/main/rule_provider/xlsosmed.yaml
    interval: 3600
    path: "./xlsosmed.yaml"
  Game:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/casper9/akunopenwrt/main/rule_provider/game.yaml
    interval: 3600
    path: "./game.yaml"
  Bokep:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/casper9/akunopenwrt/main/rule_provider/porn.yaml
    interval: 3600
    path: "./porn.yaml"

proxy-providers:
  ProxyCasper:
    type: file
    path: "./akun.yaml"
    url: https://raw.githubusercontent.com/casper9/akunopenwrt/main/rule_provider/akun.yaml
    interval: 3600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

proxy-groups:
- name: CASPER
  type: select
  disable-udp: false
  proxies:
  - AUTO
  - LOADBALANCE
  - FAILBACK
  - DIRECT
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: XL-UNLIMITED
  type: select
  disable-udp: false
  proxies:
  - DIRECT
  - AUTO
  - LOADBALANCE
  - FAILBACK
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100'

- name: IKLAN
  type: select
  disable-udp: false
  proxies:
  - REJECT
  - AUTO
  - LOADBALANCE
  - FAILBACK
  - DIRECT
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: BOKEP
  type: select
  disable-udp: false
  proxies:
  - REJECT
  - AUTO
  - LOADBALANCE
  - FAILBACK
  - DIRECT
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: IN-GAME
  type: select
  disable-udp: false
  proxies:
  - AUTO
  - LOADBALANCE
  - FAILBACK
  - DIRECT
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: AUTO
  type: url-test
  disable-udp: false
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: LOADBALANCE
  type: load-balance
  disable-udp: false
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 

- name: FAILBACK
  type: fallback
  disable-udp: false
  use:
  - ProxyCasper
  url: http://www.gstatic.com/generate_204
  interval: '300'
  tolerance: '100' 
  
redir-port: 7702
tproxy-port: 7705
port: 7700
socks-port: 7701
mixed-port: 7703
mode: rule
log-level: silent
allow-lan: true
external-controller: 0.0.0.0:9090
secret: casper
bind-address: "*"
external-ui: "/usr/share/openclash/ui"
dns:
  enable: true
  ipv6: false
  enhanced-mode: fake-ip
  listen: 0.0.0.0:7874
  nameserver:
  - 192.168.8.1
  - dhcp://"eth1"
  - dhcp://"wlan0"
  - 192.168.43.1
  - 114.114.114.114
  - 119.29.29.29
  - https://doh.pub/dns-query
  - https://dns.alidns.com/dns-query
  default-nameserver:
  - 192.168.8.1
  - 192.168.43.1
  - 114.114.114.114
  - 119.29.29.29
ipv6: false
tun:
  enable: true
  stack: system
  auto-route: false
  auto-detect-interface: false
  dns-hijack:
  - tcp://any:53
profile:
  store-selected: true
  store-fakeip: true
  store-fake-ip: true
rules:
- IP-CIDR,103.195.103.66/23,CASPER
- IP-CIDR,84.17.53.155/23,CASPER
- IP-CIDR,50.7.252.138/23,CASPER
- IP-CIDR,104.194.8.134/23,CASPER
- DST-PORT,9993,CASPER
- RULE-SET,Reject,IKLAN
- RULE-SET,Game,IN-GAME
- RULE-SET,Bokep,BOKEP
- RULE-SET,XLDirect,XL-UNLIMITED
- IP-CIDR,198.18.0.1/16,REJECT,no-resolve
- MATCH,CASPER
